(()=>{"use strict";const e={};let t,o,s,n=!0,i=(e=500)=>{let t=document.querySelector("body");if(n){let o=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<o.length;e++){o[e].style.paddingRight="0px"}t.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),n=!1,setTimeout((function(){n=!0}),e)}},l=(e=500)=>{let t=document.querySelector("body");if(n){let o=document.querySelectorAll("[data-lp]");for(let e=0;e<o.length;e++){o[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),n=!1,setTimeout((function(){n=!0}),e)}};e.popup=new class{constructor(e){let t={logging:!0,init:!0,attributeOpenButton:"data-popup",attributeCloseButton:"data-close",classes:{popup:"popup",popupActive:"popup_show",bodyActive:"popup-show"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...t,...e,classes:{...t.classes,...e?.classes},hashSettings:{...t.hashSettings,...e?.hashSettings},on:{...t.on,...e?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.popupLogging("Проснулся"),this.eventsPopup()}eventsPopup(){document.addEventListener("click",function(e){const n=e.target.closest(`[${this.options.attributeOpenButton}]`);if(n)return e.preventDefault(),this._dataValue=n.getAttribute(this.options.attributeOpenButton)?n.getAttribute(this.options.attributeOpenButton):"error",t=n.dataset.quantity,o=n.dataset.firstTitle,s=n.dataset.secondTitle,"error"!==this._dataValue?(this.isOpen||(this.lastFocusEl=n),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,void this.open()):void this.popupLogging(`Ой ой, не заполнен атрибут у ${n.classList}`);return e.target.closest(`[${this.options.attributeCloseButton}]`)&&this.isOpen?(e.preventDefault(),void this.close()):void 0}.bind(this)),document.addEventListener("keydown",function(e){if(this.options.closeEsc&&27==e.which&&"Escape"===e.code&&this.isOpen)return e.preventDefault(),void this.close();this.options.focusCatch&&9==e.which&&this.isOpen&&this._focusCatch(e)}.bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}.bind(this)),window.addEventListener("load",function(){window.location.hash&&this._openToHash()}.bind(this)))}open(e){if(n)if(this.bodyLock=!!document.documentElement.classList.contains("lock"),e&&"string"==typeof e&&""!==e.trim()&&(this.targetOpen.selector=e,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(this.targetOpen.selector),this.targetOpen.element){if(this.youTubeCode){const e=`https://www.youtube.com/embed/${this.youTubeCode}?rel=0&showinfo=0&autoplay=1`,t=document.createElement("iframe");t.setAttribute("allowfullscreen","");const o=this.options.setAutoplayYoutube?"autoplay;":"";if(t.setAttribute("allow",`${o}; encrypted-media`),t.setAttribute("src",e),!this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)){this.targetOpen.element.querySelector(".popup__text").setAttribute(`${this.options.youtubePlaceAttribute}`,"")}this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(t)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}}));const e=document.querySelector(".popup__content"),n=document.querySelector(".popup__title");if(e.querySelectorAll(".position-button").forEach((e=>{e.remove()})),t)for(let o=1;o<=t;o++){const t=`<a href="#" class="position-button">\n\t\t\t\t\t\t\t<div class="position-button__title">${`Position Name #${o}`}</div>\n\t\t\t\t\t\t\t<div class="position-button__link">view</div>\n\t\t\t\t\t\t\t<img class="position-button__bg" src="../img/careers/team-bg.jpg" alt="">\n\t\t\t\t\t\t\t</a>`;e.insertAdjacentHTML("beforeend",t)}o&&(n.childNodes[0].textContent=o+" ",n.childNodes[1].textContent=s),this.targetOpen.element.classList.add(this.options.classes.popupActive),document.documentElement.classList.add(this.options.classes.bodyActive),this._reopen?this._reopen=!1:!this.bodyLock&&l(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout((()=>{this._focusTrap()}),50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}})),this.popupLogging("Открыл попап")}else this.popupLogging("Ой ой, такого попапа нет.Проверьте корректность ввода. ")}close(e){e&&"string"==typeof e&&""!==e.trim()&&(this.previousOpen.selector=e),this.isOpen&&n&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.previousOpen.element.classList.remove(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.classList.remove(this.options.classes.bodyActive),!this.bodyLock&&i(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout((()=>{this._focusTrap()}),50),this.popupLogging("Закрыл попап"))}_getHash(){this.options.hashSettings.location&&(this.hash=this.targetOpen.selector.includes("#")?this.targetOpen.selector:this.targetOpen.selector.replace(".","#"))}_openToHash(){let e=document.querySelector(`.${window.location.hash.replace("#","")}`)?`.${window.location.hash.replace("#","")}`:document.querySelector(`${window.location.hash}`)?`${window.location.hash}`:null;(document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`)?document.querySelector(`[${this.options.attributeOpenButton} = "${e}"]`):document.querySelector(`[${this.options.attributeOpenButton} = "${e.replace(".","#")}"]`))&&e&&this.open(e)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(e){const t=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(t),s=o.indexOf(document.activeElement);e.shiftKey&&0===s&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||s!==o.length-1||(o[0].focus(),e.preventDefault())}_focusTrap(){const e=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():e[0].focus()}popupLogging(e){this.options.logging&&function(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}(`[Попапос]: ${e}`)}}({});window.addEventListener("load",(function(e){!function(){if(document.querySelector(".comments__slider")){let e=new Swiper(".comments__slider",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,autoHeight:!0,speed:800,allowTouchMove:!0,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination",type:"fraction",formatFractionCurrent:function(e){return e.toString().padStart(2,0)},formatFractionTotal:function(e){return e.toString().padStart(2,0)}},navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:{960:{allowTouchMove:!1}},on:{init:function(){!function(){if(document.getElementsByClassName("comments__slider")){let e=document.getElementsByClassName("comments__slide");for(let t=0;t<e.length;t++)e[t].querySelector(".slide-comm__text").classList.contains("needShowMore")?e[t].querySelector(".slide-comm__button").style.display="block":e[t].querySelector(".slide-comm__button").style.display="none"}}(),c.forEach((function(t){t.addEventListener("click",(function(){document.querySelectorAll(".slide-comm__text").forEach((function(e){e.classList.contains("opened-full-text")?(e.classList.remove("opened-full-text"),e.nextElementSibling.classList.remove("opened-full-text")):(e.classList.add("opened-full-text"),e.nextElementSibling.classList.add("opened-full-text"))})),e.updateAutoHeight(300)}))}))}}})}if(document.querySelector(".stories-slider")){new Swiper(".stories-slider",{observer:!0,observeParents:!0,autoHeight:!1,speed:5e3,allowTouchMove:!0,keyboard:!0,pagination:!1,centeredSlides:!0,navigation:!1,slidesPerView:"auto",loop:!0,spaceBetween:24,freeMode:!0,autoplay:{delay:1,disableOnInteraction:!1},breakpoints:{320:{spaceBetween:16},720:{spaceBetween:24}}})}}()}));let c=document.querySelectorAll(".slide-comm__button");let a=!1;setTimeout((()=>{if(a){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const r=document.querySelector("#preload-text-original");function u(e,t){if(document.getElementsByClassName(e))for(var o=0;o<document.getElementsByClassName(e).length;o++)document.getElementsByClassName(e)[o].insertAdjacentHTML("afterbegin",t)}r&&addEventListener("load",(function(){const e=document.querySelector(".welcome__content"),t=new IntersectionObserver((o=>{o[0].isIntersecting?function(){document.body.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock");const e=document.querySelector("#preload-text-position-holder");let t=e.getBoundingClientRect().top+"px",o=e.getBoundingClientRect().left+"px",s=300,n=1e3,i=1e3,l=1300;setTimeout((function(){let c={left:document.getElementsByTagName("body")[0].clientWidth/2-e.getBoundingClientRect().width/2+"px","z-index":"999"};Object.assign(r.style,c);const a=[{left:o,top:t}],u={duration:s,iterations:1,fill:"forwards",easing:"ease-out"},d=[{opacity:0}],p={duration:n,iterations:1,fill:"forwards",easing:"ease-out"};setTimeout((function(){r.animate(a,u),document.querySelector(".preload-bg").animate(d,p)}),n),setTimeout((function(){r.style.display="none",document.querySelector("#preload-text-position-holder").style.opacity="100%",document.querySelector(".preload-bg").style.display="none"}),n+s);let h=document.querySelectorAll(".media-block__animate-text");setTimeout((function(){h&&h.forEach((e=>{e.classList.add("animated")}))}),s+n+i),setTimeout((function(){let e=document.querySelectorAll("._img-anim-hidden");e&&e.forEach((e=>{e.classList.add("animated")}))}),s+n+i),setTimeout((function(){let e=document.querySelectorAll("._text-anim-origin");e&&e.forEach((e=>{e.style.opacity="100%"})),document.body.style.paddingRight="0px",document.documentElement.classList.remove("lock"),h.forEach((e=>{e.style.display="none"}))}),s+n+i+l)}),1e3)}():(t.unobserve(e),r.style.display="none",document.querySelector("#preload-text-position-holder").style.opacity="100%",document.querySelector(".preload-bg").style.display="none",document.querySelectorAll(".media-block__animate-text").forEach((e=>{e.style.display="none"})),document.querySelectorAll("._text-anim-origin").forEach((e=>{e.style.opacity="100%"})),document.querySelectorAll("._img-anim-hidden").forEach((e=>{e.style.opacity="100%"})))}),{threshold:.5});t.observe(e)})),u("block-cross-in",'<span class="block-cross-in__left-crosses"></span><span class="block-cross-in__right-crosses"></span>'),u("block-cross-in-link",'<span class="block-cross-in-link__left-elements"></span><span class="block-cross-in-link__right-elements"></span>'),u("block-cross-out",'<span class="block-cross-out__left-crosses"></span> <span class="block-cross-out__right-crosses"></span>'),addEventListener("load",(function(){new Rellax(".rellax")}));let d={stringsElement:"#typed-strings",typeSpeed:40,startDelay:500,backDelay:2e3,loop:!0,backSpeed:15,smartBackspace:!0};if(document.querySelector(".typing-text__text")){new Typed(".typing-text__text",d)}const p=document.querySelector(".cascade-slider"),h=document.querySelectorAll(".cascade-slider__item"),m=h.length;let f,g;function y(){g=p.getBoundingClientRect().top+window.scrollY}function b(){f=p.getBoundingClientRect().height}function w(){let e=g+f,t=f/m;if(window.scrollY>g&&window.scrollY<e)for(let e=0;e<m;e++){let o=1-.04*(window.scrollY-g+56-t*e)/t,s=1-.2*(window.scrollY-g+56-t*e)/t,n=56-30*(window.scrollY-g+56-t*e)/t;o>1&&(o=1),h[e].style.transform=`scale(${o})`,h[e].style.opacity=s,h[e].style.top=n+"px"}else for(let e=0;e<m;e++)h[e].style.transform="scale(1)",h[e].style.opacity=1,h[e].style.top="56px"}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".numbers-column");e&&e.forEach((e=>{for(var t=1;t<=50;t++)e.insertAdjacentHTML("beforeend",t+"<br>")}))})),p&&(addEventListener("load",(e=>{y(),setTimeout((function(){b(),w()}),200)})),addEventListener("resize",(e=>{y(),setTimeout((function(){b()}),200)})),addEventListener("scroll",(e=>{w()}))),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();